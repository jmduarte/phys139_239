Traceback (most recent call last):
  File "/home/runner/miniconda3/envs/phys139/lib/python3.11/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/runner/miniconda3/envs/phys139/lib/python3.11/site-packages/nbclient/client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/miniconda3/envs/phys139/lib/python3.11/site-packages/jupyter_core/utils/__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/miniconda3/envs/phys139/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/home/runner/miniconda3/envs/phys139/lib/python3.11/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/home/runner/miniconda3/envs/phys139/lib/python3.11/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/runner/miniconda3/envs/phys139/lib/python3.11/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
from GraphDataset import GraphDataset

local = True # for using the local files

if local:
    file_names = ["$HOME/phys139_239/data/ntuple_merged_10.root"]
    file_names_test = ["$HOME/phys139_239/data/ntuple_merged_0.root"]
else:
    file_names = [
        "root://eospublic.cern.ch//eos/opendata/cms/datascience/HiggsToBBNtupleProducerTool/HiggsToBBNTuple_HiggsToBB_QCD_RunII_13TeV_MC/train/ntuple_merged_10.root"
    ]
    file_names_test = [
        "root://eospublic.cern.ch//eos/opendata/cms/datascience/HiggsToBBNtupleProducerTool/HiggsToBBNTuple_HiggsToBB_QCD_RunII_13TeV_MC/test/ntuple_merged_0.root"
    ]

graph_dataset = GraphDataset(
    "gdata_train", features, labels, spectators, n_events=1000, n_events_merge=1, file_names=file_names
)

test_dataset = GraphDataset(
    "gdata_test", features, labels, spectators, n_events=2000, n_events_merge=1, file_names=file_names_test
)
------------------

----- stderr -----
Processing...
------------------

[31m---------------------------------------------------------------------------[39m
[31mFileNotFoundError[39m                         Traceback (most recent call last)
[36mCell[39m[36m [39m[32mIn[3][39m[32m, line 16[39m
[32m      9[39m     file_names = [
[32m     10[39m         [33m"[39m[33mroot://eospublic.cern.ch//eos/opendata/cms/datascience/HiggsToBBNtupleProducerTool/HiggsToBBNTuple_HiggsToBB_QCD_RunII_13TeV_MC/train/ntuple_merged_10.root[39m[33m"[39m
[32m     11[39m     ]
[32m     12[39m     file_names_test = [
[32m     13[39m         [33m"[39m[33mroot://eospublic.cern.ch//eos/opendata/cms/datascience/HiggsToBBNtupleProducerTool/HiggsToBBNTuple_HiggsToBB_QCD_RunII_13TeV_MC/test/ntuple_merged_0.root[39m[33m"[39m
[32m     14[39m     ]
[32m---> [39m[32m16[39m graph_dataset = [43mGraphDataset[49m[43m([49m
[32m     17[39m [43m    [49m[33;43m"[39;49m[33;43mgdata_train[39;49m[33;43m"[39;49m[43m,[49m[43m [49m[43mfeatures[49m[43m,[49m[43m [49m[43mlabels[49m[43m,[49m[43m [49m[43mspectators[49m[43m,[49m[43m [49m[43mn_events[49m[43m=[49m[32;43m1000[39;49m[43m,[49m[43m [49m[43mn_events_merge[49m[43m=[49m[32;43m1[39;49m[43m,[49m[43m [49m[43mfile_names[49m[43m=[49m[43mfile_names[49m
[32m     18[39m [43m)[49m
[32m     20[39m test_dataset = GraphDataset(
[32m     21[39m     [33m"[39m[33mgdata_test[39m[33m"[39m, features, labels, spectators, n_events=[32m2000[39m, n_events_merge=[32m1[39m, file_names=file_names_test
[32m     22[39m )

[36mFile [39m[32m~/work/phys139_239/phys139_239/notebooks/GraphDataset.py:44[39m, in [36mGraphDataset.__init__[39m[34m(self, root, features, labels, spectators, transform, pre_transform, n_events, n_events_merge, file_names, remove_unlabeled)[39m
[32m     42[39m [38;5;28mself[39m.file_names = file_names
[32m     43[39m [38;5;28mself[39m.remove_unlabeled = remove_unlabeled
[32m---> [39m[32m44[39m [38;5;28;43msuper[39;49m[43m([49m[43mGraphDataset[49m[43m,[49m[43m [49m[38;5;28;43mself[39;49m[43m)[49m[43m.[49m[34;43m__init__[39;49m[43m([49m[43mroot[49m[43m,[49m[43m [49m[43mtransform[49m[43m,[49m[43m [49m[43mpre_transform[49m[43m)[49m

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/torch_geometric/data/dataset.py:115[39m, in [36mDataset.__init__[39m[34m(self, root, transform, pre_transform, pre_filter, log, force_reload)[39m
[32m    112[39m     [38;5;28mself[39m._download()
[32m    114[39m [38;5;28;01mif[39;00m [38;5;28mself[39m.has_process:
[32m--> [39m[32m115[39m     [38;5;28;43mself[39;49m[43m.[49m[43m_process[49m[43m([49m[43m)[49m

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/torch_geometric/data/dataset.py:262[39m, in [36mDataset._process[39m[34m(self)[39m
[32m    259[39m     [38;5;28mprint[39m([33m'[39m[33mProcessing...[39m[33m'[39m, file=sys.stderr)
[32m    261[39m fs.makedirs([38;5;28mself[39m.processed_dir, exist_ok=[38;5;28;01mTrue[39;00m)
[32m--> [39m[32m262[39m [38;5;28;43mself[39;49m[43m.[49m[43mprocess[49m[43m([49m[43m)[49m
[32m    264[39m path = osp.join([38;5;28mself[39m.processed_dir, [33m'[39m[33mpre_transform.pt[39m[33m'[39m)
[32m    265[39m fs.torch_save(_repr([38;5;28mself[39m.pre_transform), path)

[36mFile [39m[32m~/work/phys139_239/phys139_239/notebooks/GraphDataset.py:85[39m, in [36mGraphDataset.process[39m[34m(self)[39m
[32m     77[39m [38;5;250m[39m[33;03m"""[39;00m
[32m     78[39m [33;03mHandles conversion of dataset file at raw_path into graph dataset.[39;00m
[32m     79[39m 
[32m   (...)[39m[32m     82[39m [33;03m    k (int): Number of process (0,...,max_events // n_proc) to determine where to read file[39;00m
[32m     83[39m [33;03m"""[39;00m
[32m     84[39m [38;5;28;01mfor[39;00m raw_path [38;5;129;01min[39;00m [38;5;28mself[39m.raw_file_names:
[32m---> [39m[32m85[39m     [38;5;28;01mwith[39;00m [43muproot[49m[43m.[49m[43mopen[49m[43m([49m[43mraw_path[49m[43m,[49m[43m [49m[43m*[49m[43m*[49m[43mget_file_handler[49m[43m([49m[43mraw_path[49m[43m)[49m[43m)[49m [38;5;28;01mas[39;00m root_file:
[32m     87[39m         tree = root_file[[33m"[39m[33mdeepntuplizer/tree[39m[33m"[39m]
[32m     89[39m         feature_array = tree.arrays([38;5;28mself[39m.features, entry_stop=[38;5;28mself[39m.n_events, library=[33m"[39m[33mak[39m[33m"[39m)

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/uproot/reading.py:142[39m, in [36mopen[39m[34m(path, object_cache, array_cache, custom_classes, decompression_executor, interpretation_executor, **options)[39m
[32m    133[39m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m [38;5;28misinstance[39m(file_path, [38;5;28mstr[39m) [38;5;129;01mand[39;00m [38;5;129;01mnot[39;00m (
[32m    134[39m     [38;5;28mhasattr[39m(file_path, [33m"[39m[33mread[39m[33m"[39m) [38;5;129;01mand[39;00m [38;5;28mhasattr[39m(file_path, [33m"[39m[33mseek[39m[33m"[39m)
[32m    135[39m ):
[32m    136[39m     [38;5;28;01mraise[39;00m [38;5;167;01mValueError[39;00m(
[32m    137[39m         [33m"[39m[33m'[39m[33mpath[39m[33m'[39m[33m must be a string, pathlib.Path, an object with [39m[33m'[39m[33mread[39m[33m'[39m[33m and [39m[33m"[39m
[32m    138[39m         [33m"[39m[33m'[39m[33mseek[39m[33m'[39m[33m methods, or a length-1 dict of [39m[33m{[39m[33mfile_path: object_path}, [39m[33m"[39m
[32m    139[39m         [33mf[39m[33m"[39m[33mnot [39m[38;5;132;01m{[39;00mpath[38;5;132;01m!r}[39;00m[33m"[39m
[32m    140[39m     )
[32m--> [39m[32m142[39m file = [43mReadOnlyFile[49m[43m([49m
[32m    143[39m [43m    [49m[43mfile_path[49m[43m,[49m
[32m    144[39m [43m    [49m[43mobject_cache[49m[43m=[49m[43mobject_cache[49m[43m,[49m
[32m    145[39m [43m    [49m[43marray_cache[49m[43m=[49m[43marray_cache[49m[43m,[49m
[32m    146[39m [43m    [49m[43mcustom_classes[49m[43m=[49m[43mcustom_classes[49m[43m,[49m
[32m    147[39m [43m    [49m[43mdecompression_executor[49m[43m=[49m[43mdecompression_executor[49m[43m,[49m
[32m    148[39m [43m    [49m[43minterpretation_executor[49m[43m=[49m[43minterpretation_executor[49m[43m,[49m
[32m    149[39m [43m    [49m[43m*[49m[43m*[49m[43moptions[49m[43m,[49m
[32m    150[39m [43m[49m[43m)[49m
[32m    152[39m [38;5;28;01mif[39;00m object_path [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m:
[32m    153[39m     [38;5;28;01mreturn[39;00m file.root_directory

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/uproot/reading.py:573[39m, in [36mReadOnlyFile.__init__[39m[34m(self, file_path, object_cache, array_cache, custom_classes, decompression_executor, interpretation_executor, **options)[39m
[32m    565[39m [38;5;28;01mif[39;00m [38;5;28mself[39m._options[[33m"[39m[33mbegin_chunk_size[39m[33m"[39m] < _file_header_fields_big.size:
[32m    566[39m     [38;5;28;01mraise[39;00m [38;5;167;01mValueError[39;00m(
[32m    567[39m         [33m"[39m[33mbegin_chunk_size=[39m[38;5;132;01m{}[39;00m[33m is not enough to read the TFile header ([39m[38;5;132;01m{}[39;00m[33m)[39m[33m"[39m.format(
[32m    568[39m             [38;5;28mself[39m._options[[33m"[39m[33mbegin_chunk_size[39m[33m"[39m],
[32m    569[39m             _file_header_fields_big.size,
[32m    570[39m         )
[32m    571[39m     )
[32m--> [39m[32m573[39m [38;5;28mself[39m._begin_chunk = [38;5;28;43mself[39;49m[43m.[49m[43m_source[49m[43m.[49m[43mchunk[49m[43m([49m
[32m    574[39m [43m    [49m[32;43m0[39;49m[43m,[49m[43m [49m[38;5;28;43mself[39;49m[43m.[49m[43m_options[49m[43m[[49m[33;43m"[39;49m[33;43mbegin_chunk_size[39;49m[33;43m"[39;49m[43m][49m
[32m    575[39m [43m[49m[43m)[49m.detach_memmap()
[32m    577[39m [38;5;28mself[39m.hook_before_interpret()
[32m    579[39m (
[32m    580[39m     magic,
[32m    581[39m     [38;5;28mself[39m._fVersion,
[32m   (...)[39m[32m    595[39m     [38;5;28mself[39m._begin_chunk, _file_header_fields_small, {}
[32m    596[39m )

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/uproot/source/fsspec.py:117[39m, in [36mFSSpecSource.chunk[39m[34m(self, start, stop)[39m
[32m    115[39m [38;5;28mself[39m._num_requested_chunks += [32m1[39m
[32m    116[39m [38;5;28mself[39m._num_requested_bytes += stop - start
[32m--> [39m[32m117[39m data = [38;5;28;43mself[39;49m[43m.[49m[43m_fs[49m[43m.[49m[43mcat_file[49m[43m([49m[38;5;28;43mself[39;49m[43m.[49m[43m_file_path[49m[43m,[49m[43m [49m[43mstart[49m[43m=[49m[43mstart[49m[43m,[49m[43m [49m[43mend[49m[43m=[49m[43mstop[49m[43m)[49m
[32m    118[39m future = uproot.source.futures.TrivialFuture(data)
[32m    119[39m [38;5;28;01mreturn[39;00m uproot.source.chunk.Chunk([38;5;28mself[39m, start, stop, future)

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/fsspec/spec.py:802[39m, in [36mAbstractFileSystem.cat_file[39m[34m(self, path, start, end, **kwargs)[39m
[32m    790[39m [38;5;250m[39m[33;03m"""Get the content of a file[39;00m
[32m    791[39m 
[32m    792[39m [33;03mParameters[39;00m
[32m   (...)[39m[32m    799[39m [33;03mkwargs: passed to ``open()``.[39;00m
[32m    800[39m [33;03m"""[39;00m
[32m    801[39m [38;5;66;03m# explicitly set buffering off?[39;00m
[32m--> [39m[32m802[39m [38;5;28;01mwith[39;00m [38;5;28;43mself[39;49m[43m.[49m[43mopen[49m[43m([49m[43mpath[49m[43m,[49m[43m [49m[33;43m"[39;49m[33;43mrb[39;49m[33;43m"[39;49m[43m,[49m[43m [49m[43m*[49m[43m*[49m[43mkwargs[49m[43m)[49m [38;5;28;01mas[39;00m f:
[32m    803[39m     [38;5;28;01mif[39;00m start [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:
[32m    804[39m         [38;5;28;01mif[39;00m start >= [32m0[39m:

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/fsspec/spec.py:1349[39m, in [36mAbstractFileSystem.open[39m[34m(self, path, mode, block_size, cache_options, compression, **kwargs)[39m
[32m   1347[39m [38;5;28;01melse[39;00m:
[32m   1348[39m     ac = kwargs.pop([33m"[39m[33mautocommit[39m[33m"[39m, [38;5;129;01mnot[39;00m [38;5;28mself[39m._intrans)
[32m-> [39m[32m1349[39m     f = [38;5;28;43mself[39;49m[43m.[49m[43m_open[49m[43m([49m
[32m   1350[39m [43m        [49m[43mpath[49m[43m,[49m
[32m   1351[39m [43m        [49m[43mmode[49m[43m=[49m[43mmode[49m[43m,[49m
[32m   1352[39m [43m        [49m[43mblock_size[49m[43m=[49m[43mblock_size[49m[43m,[49m
[32m   1353[39m [43m        [49m[43mautocommit[49m[43m=[49m[43mac[49m[43m,[49m
[32m   1354[39m [43m        [49m[43mcache_options[49m[43m=[49m[43mcache_options[49m[43m,[49m
[32m   1355[39m [43m        [49m[43m*[49m[43m*[49m[43mkwargs[49m[43m,[49m
[32m   1356[39m [43m    [49m[43m)[49m
[32m   1357[39m     [38;5;28;01mif[39;00m compression [38;5;129;01mis[39;00m [38;5;129;01mnot[39;00m [38;5;28;01mNone[39;00m:
[32m   1358[39m         [38;5;28;01mfrom[39;00m[38;5;250m [39m[34;01mfsspec[39;00m[34;01m.[39;00m[34;01mcompression[39;00m[38;5;250m [39m[38;5;28;01mimport[39;00m compr

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/fsspec/implementations/local.py:210[39m, in [36mLocalFileSystem._open[39m[34m(self, path, mode, block_size, **kwargs)[39m
[32m    208[39m [38;5;28;01mif[39;00m [38;5;28mself[39m.auto_mkdir [38;5;129;01mand[39;00m [33m"[39m[33mw[39m[33m"[39m [38;5;129;01min[39;00m mode:
[32m    209[39m     [38;5;28mself[39m.makedirs([38;5;28mself[39m._parent(path), exist_ok=[38;5;28;01mTrue[39;00m)
[32m--> [39m[32m210[39m [38;5;28;01mreturn[39;00m [43mLocalFileOpener[49m[43m([49m[43mpath[49m[43m,[49m[43m [49m[43mmode[49m[43m,[49m[43m [49m[43mfs[49m[43m=[49m[38;5;28;43mself[39;49m[43m,[49m[43m [49m[43m*[49m[43m*[49m[43mkwargs[49m[43m)[49m

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/fsspec/implementations/local.py:387[39m, in [36mLocalFileOpener.__init__[39m[34m(self, path, mode, autocommit, fs, compression, **kwargs)[39m
[32m    385[39m [38;5;28mself[39m.compression = get_compression(path, compression)
[32m    386[39m [38;5;28mself[39m.blocksize = io.DEFAULT_BUFFER_SIZE
[32m--> [39m[32m387[39m [38;5;28;43mself[39;49m[43m.[49m[43m_open[49m[43m([49m[43m)[49m

[36mFile [39m[32m~/miniconda3/envs/phys139/lib/python3.11/site-packages/fsspec/implementations/local.py:392[39m, in [36mLocalFileOpener._open[39m[34m(self)[39m
[32m    390[39m [38;5;28;01mif[39;00m [38;5;28mself[39m.f [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m [38;5;129;01mor[39;00m [38;5;28mself[39m.f.closed:
[32m    391[39m     [38;5;28;01mif[39;00m [38;5;28mself[39m.autocommit [38;5;129;01mor[39;00m [33m"[39m[33mw[39m[33m"[39m [38;5;129;01mnot[39;00m [38;5;129;01min[39;00m [38;5;28mself[39m.mode:
[32m--> [39m[32m392[39m         [38;5;28mself[39m.f = [38;5;28;43mopen[39;49m[43m([49m[38;5;28;43mself[39;49m[43m.[49m[43mpath[49m[43m,[49m[43m [49m[43mmode[49m[43m=[49m[38;5;28;43mself[39;49m[43m.[49m[43mmode[49m[43m)[49m
[32m    393[39m         [38;5;28;01mif[39;00m [38;5;28mself[39m.compression:
[32m    394[39m             compress = compr[[38;5;28mself[39m.compression]

[31mFileNotFoundError[39m: [Errno 2] No such file or directory: '/home/runner/work/phys139_239/phys139_239/notebooks/$HOME/phys139_239/data/ntuple_merged_10.root'

